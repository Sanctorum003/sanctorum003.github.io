<!DOCTYPE html>
<html>
<head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="utf-8">
  <title>C++多线程并发 | Blog</title>
  <meta name="keywords" content=" C++ , MultiThreads ">
  <meta name="description" content="C++多线程并发 | Blog">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="description" content="堆自由存储区和堆区 new 和 delete 操作的区域是 free store,malloc 和 free 操作的区域是 heap 但 new 和 delete 通常底层使用 malloc 和 free 来实现  内存管理的相关操作 1.分配一个某个大小的内存块  2.释放一个之前分配的内存块  空闲块的合并   3.进行垃圾收集操作，寻找不再使用的内存块并予以释放   内存泄露 如果动态申请的">
<meta name="keywords" content="c++">
<meta property="og:type" content="article">
<meta property="og:title" content="01 | 堆、栈、RAII：C++里该如何管理资源？">
<meta property="og:url" content="https://sanctorum.github.io/2021/09/21/Archive/计算机基础/CPP/现代C++/堆、栈、RAII/index.html">
<meta property="og:site_name" content="Blog">
<meta property="og:description" content="堆自由存储区和堆区 new 和 delete 操作的区域是 free store,malloc 和 free 操作的区域是 heap 但 new 和 delete 通常底层使用 malloc 和 free 来实现  内存管理的相关操作 1.分配一个某个大小的内存块  2.释放一个之前分配的内存块  空闲块的合并   3.进行垃圾收集操作，寻找不再使用的内存块并予以释放   内存泄露 如果动态申请的">
<meta property="og:locale" content="default">
<meta property="og:image" content="https://sanctorum.github.io/2021/09/21/Archive/计算机基础/CPP/现代C++/堆、栈、RAII/过程调用的机器级表示.jpg">
<meta property="og:image" content="https://sanctorum.github.io/2021/09/21/Archive/计算机基础/CPP/现代C++/堆、栈、RAII/栈帧的变化.jpg">
<meta property="og:image" content="https://sanctorum.github.io/2021/09/21/Archive/计算机基础/CPP/现代C++/堆、栈、RAII/C过程的结构.jpg">
<meta property="og:updated_time" content="2021-09-21T09:37:16.249Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="01 | 堆、栈、RAII：C++里该如何管理资源？">
<meta name="twitter:description" content="堆自由存储区和堆区 new 和 delete 操作的区域是 free store,malloc 和 free 操作的区域是 heap 但 new 和 delete 通常底层使用 malloc 和 free 来实现  内存管理的相关操作 1.分配一个某个大小的内存块  2.释放一个之前分配的内存块  空闲块的合并   3.进行垃圾收集操作，寻找不再使用的内存块并予以释放   内存泄露 如果动态申请的">
<meta name="twitter:image" content="https://sanctorum.github.io/2021/09/21/Archive/计算机基础/CPP/现代C++/堆、栈、RAII/过程调用的机器级表示.jpg">


<link rel="icon" href="/img/avatar.jpg">

<link href="/css/style.css?v=1.1.0" rel="stylesheet">

<link href="/css/hl_theme/darcula.css?v=1.1.0" rel="stylesheet">

<link href="//cdn.jsdelivr.net/npm/animate.css@4.1.0/animate.min.css" rel="stylesheet">

<script src="//cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.min.js"></script>
<script src="/js/titleTip.js?v=1.1.0"></script>

<script src="//cdn.jsdelivr.net/npm/highlightjs@9.16.2/highlight.pack.min.js"></script>
<script>
    hljs.initHighlightingOnLoad();
</script>

<script src="//cdn.jsdelivr.net/npm/nprogress@0.2.0/nprogress.min.js"></script>



<script src="//cdn.jsdelivr.net/npm/jquery.cookie@1.4.1/jquery.cookie.min.js"></script>

<script src="/js/iconfont.js?v=1.1.0"></script>

</head>
<div style="display: none">
  <input class="theme_disqus_on" value="false">
  <input class="theme_preload_comment" value>
  <input class="theme_blog_path" value>
  <input id="theme_shortcut" value="true">
</div>


<body>
<aside class="nav">
    <div class="nav-left">
        <a href="/" class="avatar_target">
    <img class="avatar" src="/img/avatar.jpg" />
</a>
<div class="author">
    <span>Sanctorum003</span>
</div>

<div class="icon">
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
</div>




<ul>
    <li><div class="all active" data-rel="All">All<small>(128)</small></div></li>
    
        
            
            <li><div data-rel="Algorithm">Algorithm<small>(9)</small></div>
                
            </li>
            
        
    
        
            
            <li><div data-rel="c++">c++<small>(2)</small></div>
                
            </li>
            
        
    
        
            
        
    
        
            
            <li><div data-rel="CG"><i class="fold iconfont icon-right"></i>CG<small>(16)</small></div>
                
                    <ul class="sub hide">
                        
                        <li><div data-rel="CG<--->Games">Games<small>(4)</small></div>
                            
                        </li>
                            
                    </ul>
                
            </li>
            
        
    
        
            
            <li><div data-rel="ComputerBasics"><i class="fold iconfont icon-right"></i>ComputerBasics<small>(24)</small></div>
                
                    <ul class="sub hide">
                        
                        <li><div data-rel="ComputerBasics<--->C++">C++<small>(2)</small></div>
                            
                        </li>
                            
                        <li><div data-rel="ComputerBasics<--->STL">STL<small>(9)</small></div>
                            
                        </li>
                            
                    </ul>
                
            </li>
            
        
    
        
            
            <li><div data-rel="CPP">CPP<small>(3)</small></div>
                
            </li>
            
        
    
        
            
        
    
        
            
            <li><div data-rel="LeetCode">LeetCode<small>(7)</small></div>
                
            </li>
            
        
    
        
            
        
    
        
            
            <li><div data-rel="Lua">Lua<small>(3)</small></div>
                
            </li>
            
        
    
        
            
            <li><div data-rel="Menu"><i class="fold iconfont icon-right"></i>Menu<small>(3)</small></div>
                
                    <ul class="sub hide">
                        
                        <li><div data-rel="Menu<--->LeetCode">LeetCode<small>(1)</small></div>
                            
                        </li>
                            
                        <li><div data-rel="Menu<--->UE4">UE4<small>(1)</small></div>
                            
                        </li>
                            
                    </ul>
                
            </li>
            
        
    
        
            
            <li><div data-rel="Project">Project<small>(3)</small></div>
                
            </li>
            
        
    
        
            
            <li><div data-rel="Recruitment">Recruitment<small>(43)</small></div>
                
            </li>
            
        
    
        
            
        
    
        
            
            <li><div data-rel="UE4">UE4<small>(13)</small></div>
                
            </li>
            
        
    
        
            
        
    
</ul>
<div class="left-bottom">
    <div class="menus">
    
    
    
    
    </div>
    <div><a  class="friends">Friends</a></div>
</div>
<input type="hidden" id="yelog_site_posts_number" value="128">

<div style="display: none">
    <span id="busuanzi_value_site_uv"></span>
    <span id="busuanzi_value_site_pv"></span>
</div>

    </div>
    <div class="nav-right">
        <div class="friends-area">
    <div class="friends-title">
        Links
        <i class="iconfont icon-left"></i>
    </div>
    <div class="friends-content">
        <ul>
            
            <li><a target="_blank" href="https://naruto-zhao.github.io/">赵果</a></li>
            
            <li><a target="_blank" href="https://solthx.github.io/">程子丰</a></li>
            
        </ul>
    </div>
</div>
        <div class="title-list">
    <div class="right-top">
        <div id="default-panel">
            <i class="iconfont icon-search" data-title="搜索 快捷键 i"></i>
            <div class="right-title">All</div>
            <i class="iconfont icon-file-tree" data-title="切换到大纲视图 快捷键 w"></i>
        </div>
        <div id="search-panel">
            <i class="iconfont icon-left" data-title="返回"></i>
            <input id="local-search-input" />
            <label class="border-line" for="input"></label>
            <i class="iconfont icon-case-sensitive" data-title="大小写敏感"></i>
            <i class="iconfont icon-tag" data-title="标签"></i>
        </div>
        <div id="outline-panel" style="display: none">
            <div class="right-title">大纲</div>
            <i class="iconfont icon-list" data-title="切换到文章列表"></i>
        </div>
    </div>

    <div class="tags-list">
    <input id="tag-search" />
    <div class="tag-wrapper">
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>algorithm</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>Array</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>BFS</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>C#</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>C#图解教程</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>c++</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>C++</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>computer graphics</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>Computer Graphics</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>data structure</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>DesignPatterns</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>DFS</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>directx11</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>Divide and conquer</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>DoublePointer</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>effective_modren_c++</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>EngineBottom</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>HashMap</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>json</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>LeetCode</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>Linking</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>LinkList</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>lua</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>menu</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>MultiThreads</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>Navmesh</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>opengl</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>OS</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>recruitment</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>render</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>shader</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>slate</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>SlidingWindow</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>STL</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>String</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>tinyrenderer</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>Tree</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>ue4</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>UE4</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>剑指Offer</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>并查集</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>新特性</a>
            </li>
        
    </div>

</div>

    
    <div id="local-search-result">

    </div>
    
    <nav id="title-list-nav">
        
        <a  class="All ComputerBasics "
           href="/2022/01/24/C#/C#图解教程/Chapter 1.C#和.Net框架/"
           data-tag="C#,C#图解教程"
           data-author="" >
            <span class="post-title" title="C#和.Net框架">C#和.Net框架</span>
            <span class="post-date" title="2022-01-24 21:52:40">2022/01/24</span>
        </a>
        
        <a  class="All c++ "
           href="/2021/09/21/Archive/计算机基础/CPP/现代C++/C++的智能指针/"
           data-tag="c++"
           data-author="" >
            <span class="post-title" title="02 | 自己动手，实现C++的智能指针">02 | 自己动手，实现C++的智能指针</span>
            <span class="post-date" title="2021-09-21 15:19:08">2021/09/21</span>
        </a>
        
        <a  class="All c++ "
           href="/2021/09/21/Archive/计算机基础/CPP/现代C++/堆、栈、RAII/"
           data-tag="c++"
           data-author="" >
            <span class="post-title" title="01 | 堆、栈、RAII：C++里该如何管理资源？">01 | 堆、栈、RAII：C++里该如何管理资源？</span>
            <span class="post-date" title="2021-09-21 15:19:08">2021/09/21</span>
        </a>
        
        <a  class="All CPP "
           href="/2021/09/15/Archive/计算机基础/CPP/C++新特性/C++17/"
           data-tag="c++,新特性"
           data-author="" >
            <span class="post-title" title="C++17 新特性">C++17 新特性</span>
            <span class="post-date" title="2021-09-15 15:20:08">2021/09/15</span>
        </a>
        
        <a  class="All CPP "
           href="/2021/09/15/Archive/计算机基础/CPP/C++新特性/C++14/"
           data-tag="c++,新特性"
           data-author="" >
            <span class="post-title" title="C++14 新特性">C++14 新特性</span>
            <span class="post-date" title="2021-09-15 14:39:08">2021/09/15</span>
        </a>
        
        <a  class="All CPP "
           href="/2021/09/15/Archive/计算机基础/CPP/EffectiveModernC++/item23_move_forward/"
           data-tag="c++,effective_modren_c++"
           data-author="" >
            <span class="post-title" title="Item 23:理解std::move和std::forward">Item 23:理解std::move和std::forward</span>
            <span class="post-date" title="2021-09-15 14:39:08">2021/09/15</span>
        </a>
        
        <a  class="All ComputerBasics STL "
           href="/2021/09/12/Archive/计算机基础/CPP/STL/map&unordered_map/"
           data-tag="STL"
           data-author="" >
            <span class="post-title" title="map &amp; unordered_map">map &amp; unordered_map</span>
            <span class="post-date" title="2021-09-12 16:22:34">2021/09/12</span>
        </a>
        
        <a  class="All ComputerBasics STL "
           href="/2021/09/12/Archive/计算机基础/CPP/STL/stack&queue/"
           data-tag="STL"
           data-author="" >
            <span class="post-title" title="queue &amp; stack">queue &amp; stack</span>
            <span class="post-date" title="2021-09-12 16:22:34">2021/09/12</span>
        </a>
        
        <a  class="All ComputerBasics STL "
           href="/2021/09/12/Archive/计算机基础/CPP/STL/deque/"
           data-tag="STL"
           data-author="" >
            <span class="post-title" title="deque">deque</span>
            <span class="post-date" title="2021-09-12 15:22:34">2021/09/12</span>
        </a>
        
        <a  class="All ComputerBasics STL "
           href="/2021/09/12/Archive/计算机基础/CPP/STL/Allocator/"
           data-tag="STL"
           data-author="" >
            <span class="post-title" title="Allocator">Allocator</span>
            <span class="post-date" title="2021-09-12 11:39:34">2021/09/12</span>
        </a>
        
        <a  class="All Lua "
           href="/2021/09/10/Lua/Lua_GC/"
           data-tag="lua"
           data-author="" >
            <span class="post-title" title="Lua基础">Lua基础</span>
            <span class="post-date" title="2021-09-10 22:39:00">2021/09/10</span>
        </a>
        
        <a  class="All Lua "
           href="/2021/09/10/Lua/UnLua/"
           data-tag="lua,UE4"
           data-author="" >
            <span class="post-title" title="Unlua">Unlua</span>
            <span class="post-date" title="2021-09-10 22:39:00">2021/09/10</span>
        </a>
        
        <a  class="All Lua "
           href="/2021/09/10/Lua/Lua基础/"
           data-tag="lua"
           data-author="" >
            <span class="post-title" title="Lua基础">Lua基础</span>
            <span class="post-date" title="2021-09-10 22:39:00">2021/09/10</span>
        </a>
        
        <a  class="All "
           href="/2021/09/07/Archive/计算机基础/计算机系统基础/C语言的机器级表示/"
           data-tag=""
           data-author="" >
            <span class="post-title" title=""></span>
            <span class="post-date" title="2021-09-07 18:16:15">2021/09/07</span>
        </a>
        
        <a  class="All UE4 "
           href="/2021/09/04/CG/UE4/EngineBottom/UE4_RenderPipeline/"
           data-tag="ue4,EngineBottom"
           data-author="" >
            <span class="post-title" title="UE4 渲染管线">UE4 渲染管线</span>
            <span class="post-date" title="2021-09-04 16:51:00">2021/09/04</span>
        </a>
        
        <a  class="All UE4 "
           href="/2021/09/04/CG/UE4/EngineBottom/UE4_ReflectionMechanism/"
           data-tag="ue4,EngineBottom"
           data-author="" >
            <span class="post-title" title="UE4 反射机制">UE4 反射机制</span>
            <span class="post-date" title="2021-09-04 16:51:00">2021/09/04</span>
        </a>
        
        <a  class="All LeetCode "
           href="/2021/08/26/Archive/LeetCode/环形链表/"
           data-tag="LeetCode"
           data-author="" >
            <span class="post-title" title="环形链表">环形链表</span>
            <span class="post-date" title="2021-08-26 11:04:28">2021/08/26</span>
        </a>
        
        <a  class="All ComputerBasics "
           href="/2021/08/06/Archive/计算机基础/MultiThreads/C++_MultiThreads/"
           data-tag="C++,MultiThreads"
           data-author="" >
            <span class="post-title" title="C++多线程并发">C++多线程并发</span>
            <span class="post-date" title="2021-08-06 14:57:10">2021/08/06</span>
        </a>
        
        <a  class="All ComputerBasics "
           href="/2021/08/02/Archive/计算机基础/计算机系统基础/链接概述和目标文件格式/"
           data-tag="Linking"
           data-author="" >
            <span class="post-title" title="链接概述和目标文件格式">链接概述和目标文件格式</span>
            <span class="post-date" title="2021-08-02 19:40:00">2021/08/02</span>
        </a>
        
        <a  class="All UE4 "
           href="/2021/07/29/CG/UE4/Navmesh/UE4_Navmesh/"
           data-tag="ue4,Navmesh"
           data-author="" >
            <span class="post-title" title="UE4 Navmesh剖析">UE4 Navmesh剖析</span>
            <span class="post-date" title="2021-07-29 16:51:00">2021/07/29</span>
        </a>
        
        <a  class="All UE4 "
           href="/2021/07/29/CG/UE4/Networks/GameSynchronization/"
           data-tag="ue4,Navmesh"
           data-author="" >
            <span class="post-title" title="UE4 Navmesh剖析">UE4 Navmesh剖析</span>
            <span class="post-date" title="2021-07-29 16:51:00">2021/07/29</span>
        </a>
        
        <a  class="All Algorithm "
           href="/2021/07/27/Archive/Algorithm/Tree/"
           data-tag="algorithm"
           data-author="" >
            <span class="post-title" title="树算法">树算法</span>
            <span class="post-date" title="2021-07-27 11:32:03">2021/07/27</span>
        </a>
        
        <a  class="All Project "
           href="/2021/07/19/Archive/Project/TinyRenderer/Hidden_faces_removal_z_buffer/"
           data-tag="tinyrenderer"
           data-author="" >
            <span class="post-title" title="Lesson 3 Hidden_faces_removal_z_buffer">Lesson 3 Hidden_faces_removal_z_buffer</span>
            <span class="post-date" title="2021-07-19 16:53:52">2021/07/19</span>
        </a>
        
        <a  class="All CG "
           href="/2021/07/19/CG/CG/背面剔除/"
           data-tag="computer graphics"
           data-author="" >
            <span class="post-title" title="背面剔除">背面剔除</span>
            <span class="post-date" title="2021-07-19 16:26:08">2021/07/19</span>
        </a>
        
        <a  class="All CG Games "
           href="/2021/07/18/CG/Games/Light_Transport/"
           data-tag="Computer Graphics"
           data-author="" >
            <span class="post-title" title="Games101 Light Transport">Games101 Light Transport</span>
            <span class="post-date" title="2021-07-18 17:00:00">2021/07/18</span>
        </a>
        
        <a  class="All CG Games "
           href="/2021/07/18/CG/Games/Rasterization/"
           data-tag="Computer Graphics"
           data-author="" >
            <span class="post-title" title="Games101 Rasterization">Games101 Rasterization</span>
            <span class="post-date" title="2021-07-18 17:00:00">2021/07/18</span>
        </a>
        
        <a  class="All CG Games "
           href="/2021/07/18/CG/Games/Animation_Simulation/"
           data-tag="Computer Graphics"
           data-author="" >
            <span class="post-title" title="Games101 Animation_Simulation">Games101 Animation_Simulation</span>
            <span class="post-date" title="2021-07-18 17:00:00">2021/07/18</span>
        </a>
        
        <a  class="All CG Games "
           href="/2021/07/18/CG/Games/Geometry/"
           data-tag="Computer Graphics"
           data-author="" >
            <span class="post-title" title="Games101 Geometry">Games101 Geometry</span>
            <span class="post-date" title="2021-07-18 17:00:00">2021/07/18</span>
        </a>
        
        <a  class="All Recruitment "
           href="/2021/07/17/Archive/Recruitment/操作系统整理/"
           data-tag="recruitment"
           data-author="" >
            <span class="post-title" title="操作系统整理">操作系统整理</span>
            <span class="post-date" title="2021-07-17 16:24:10">2021/07/17</span>
        </a>
        
        <a  class="All Project "
           href="/2021/07/14/Archive/Project/TinyRenderer/Triangle_rasterization_and_back_face_culling/"
           data-tag="tinyrenderer"
           data-author="" >
            <span class="post-title" title="Lesson 2 Triangle rasterization and back face culling">Lesson 2 Triangle rasterization and back face culling</span>
            <span class="post-date" title="2021-07-14 21:19:52">2021/07/14</span>
        </a>
        
        <a  class="All ComputerBasics STL "
           href="/2021/07/13/Archive/计算机基础/CPP/STL/vector/"
           data-tag="STL"
           data-author="" >
            <span class="post-title" title="vector深入探索">vector深入探索</span>
            <span class="post-date" title="2021-07-13 10:33:38">2021/07/13</span>
        </a>
        
        <a  class="All ComputerBasics STL "
           href="/2021/07/12/Archive/计算机基础/CPP/STL/hashtable/"
           data-tag="STL"
           data-author="" >
            <span class="post-title" title="hashtable">hashtable</span>
            <span class="post-date" title="2021-07-12 16:32:34">2021/07/12</span>
        </a>
        
        <a  class="All ComputerBasics C++ "
           href="/2021/07/12/Archive/计算机基础/CPP/C++11/SmartPointer/"
           data-tag="C++"
           data-author="" >
            <span class="post-title" title="shared_pointer">shared_pointer</span>
            <span class="post-date" title="2021-07-12 15:29:34">2021/07/12</span>
        </a>
        
        <a  class="All ComputerBasics STL "
           href="/2021/07/12/Archive/计算机基础/CPP/STL/array/"
           data-tag="STL"
           data-author="" >
            <span class="post-title" title="Array">Array</span>
            <span class="post-date" title="2021-07-12 15:29:34">2021/07/12</span>
        </a>
        
        <a  class="All ComputerBasics C++ "
           href="/2021/07/12/Archive/计算机基础/CPP/C++_CRT/Heap_CRT/"
           data-tag="C++"
           data-author="" >
            <span class="post-title" title="堆与内存管理">堆与内存管理</span>
            <span class="post-date" title="2021-07-12 15:29:34">2021/07/12</span>
        </a>
        
        <a  class="All ComputerBasics STL "
           href="/2021/07/12/Archive/计算机基础/CPP/STL/Iterator_Traits/"
           data-tag="STL"
           data-author="" >
            <span class="post-title" title="Iterator_Traits">Iterator_Traits</span>
            <span class="post-date" title="2021-07-12 15:29:34">2021/07/12</span>
        </a>
        
        <a  class="All Algorithm "
           href="/2021/07/05/Archive/Algorithm/String/"
           data-tag="data structure"
           data-author="" >
            <span class="post-title" title="串">串</span>
            <span class="post-date" title="2021-07-05 15:49:03">2021/07/05</span>
        </a>
        
        <a  class="All Algorithm "
           href="/2021/07/04/Archive/Algorithm/Search/"
           data-tag="algorithm"
           data-author="" >
            <span class="post-title" title="查找">查找</span>
            <span class="post-date" title="2021-07-04 21:00:03">2021/07/04</span>
        </a>
        
        <a  class="All Algorithm "
           href="/2021/07/04/Archive/Algorithm/Graphy/"
           data-tag="algorithm"
           data-author="" >
            <span class="post-title" title="图算法">图算法</span>
            <span class="post-date" title="2021-07-04 21:00:03">2021/07/04</span>
        </a>
        
        <a  class="All ComputerBasics "
           href="/2021/07/04/Archive/计算机基础/DesignPatterns/AbstactFactory/"
           data-tag="DesignPatterns"
           data-author="" >
            <span class="post-title" title="抽象工厂">抽象工厂</span>
            <span class="post-date" title="2021-07-04 17:21:13">2021/07/04</span>
        </a>
        
        <a  class="All ComputerBasics "
           href="/2021/07/04/Archive/计算机基础/DesignPatterns/设计模式六大原则/"
           data-tag="DesignPatterns"
           data-author="" >
            <span class="post-title" title="设计模式六大原则">设计模式六大原则</span>
            <span class="post-date" title="2021-07-04 16:40:13">2021/07/04</span>
        </a>
        
        <a  class="All ComputerBasics "
           href="/2021/07/04/Archive/计算机基础/OperationSystem/ProcessManagement/"
           data-tag="OS"
           data-author="" >
            <span class="post-title" title="进程管理">进程管理</span>
            <span class="post-date" title="2021-07-04 16:40:13">2021/07/04</span>
        </a>
        
        <a  class="All ComputerBasics "
           href="/2021/07/04/Archive/计算机基础/OperationSystem/StartOS/"
           data-tag="OS"
           data-author="" >
            <span class="post-title" title="操作系统入门">操作系统入门</span>
            <span class="post-date" title="2021-07-04 16:40:13">2021/07/04</span>
        </a>
        
        <a  class="All ComputerBasics "
           href="/2021/07/04/Archive/计算机基础/DesignPatterns/Factory/"
           data-tag="DesignPatterns"
           data-author="" >
            <span class="post-title" title="工厂方法">工厂方法</span>
            <span class="post-date" title="2021-07-04 16:28:13">2021/07/04</span>
        </a>
        
        <a  class="All ComputerBasics "
           href="/2021/06/26/Archive/计算机基础/DesignPatterns/Bridge/"
           data-tag="DesignPatterns"
           data-author="" >
            <span class="post-title" title="桥模式">桥模式</span>
            <span class="post-date" title="2021-06-26 20:04:13">2021/06/26</span>
        </a>
        
        <a  class="All ComputerBasics "
           href="/2021/06/26/Archive/计算机基础/DesignPatterns/Decorator/"
           data-tag="DesignPatterns"
           data-author="" >
            <span class="post-title" title="装饰器模式">装饰器模式</span>
            <span class="post-date" title="2021-06-26 20:04:13">2021/06/26</span>
        </a>
        
        <a  class="All Algorithm "
           href="/2021/06/24/Archive/Algorithm/UnionFind/"
           data-tag="data structure"
           data-author="" >
            <span class="post-title" title="并查集">并查集</span>
            <span class="post-date" title="2021-06-24 15:37:03">2021/06/24</span>
        </a>
        
        <a  class="All ComputerBasics "
           href="/2021/06/23/Archive/计算机基础/CSAPP/Linking/"
           data-tag="Linking"
           data-author="" >
            <span class="post-title" title="链接">链接</span>
            <span class="post-date" title="2021-06-23 21:52:13">2021/06/23</span>
        </a>
        
        <a  class="All ComputerBasics "
           href="/2021/06/23/Archive/计算机基础/DesignPatterns/Observer/"
           data-tag="DesignPatterns"
           data-author="" >
            <span class="post-title" title="观察者模式">观察者模式</span>
            <span class="post-date" title="2021-06-23 20:04:13">2021/06/23</span>
        </a>
        
        <a  class="All ComputerBasics "
           href="/2021/06/23/Archive/计算机基础/DesignPatterns/Singleton/"
           data-tag="DesignPatterns"
           data-author="" >
            <span class="post-title" title="单例模式">单例模式</span>
            <span class="post-date" title="2021-06-23 20:04:13">2021/06/23</span>
        </a>
        
        <a  class="All Algorithm "
           href="/2021/06/15/Archive/Algorithm/Sort/"
           data-tag="algorithm"
           data-author="" >
            <span class="post-title" title="排序">排序</span>
            <span class="post-date" title="2021-06-15 20:52:03">2021/06/15</span>
        </a>
        
        <a  class="All ComputerBasics STL "
           href="/2021/06/05/Archive/计算机基础/CPP/STL/List/"
           data-tag="STL"
           data-author="" >
            <span class="post-title" title="List深入探索">List深入探索</span>
            <span class="post-date" title="2021-06-05 19:59:52">2021/06/05</span>
        </a>
        
        <a  class="All CG "
           href="/2021/06/05/CG/CG/画线算法/"
           data-tag="computer graphics"
           data-author="" >
            <span class="post-title" title="画线算法">画线算法</span>
            <span class="post-date" title="2021-06-05 17:31:08">2021/06/05</span>
        </a>
        
        <a  class="All Recruitment "
           href="/2021/06/05/Archive/计算机基础/CPP/C++复习/C++复习 const/"
           data-tag="recruitment,c++"
           data-author="" >
            <span class="post-title" title="C++复习 const">C++复习 const</span>
            <span class="post-date" title="2021-06-05 16:48:05">2021/06/05</span>
        </a>
        
        <a  class="All Project "
           href="/2021/06/05/Archive/Project/TinyRenderer/Line_Drawing_Algorithm/"
           data-tag="tinyrenderer"
           data-author="" >
            <span class="post-title" title="Lesson 1 Bresenham’s Line Drawing Algorithm">Lesson 1 Bresenham’s Line Drawing Algorithm</span>
            <span class="post-date" title="2021-06-05 16:19:52">2021/06/05</span>
        </a>
        
        <a  class="All Menu "
           href="/2021/06/05/Archive/Menu/C++复习总览/"
           data-tag="menu,C++"
           data-author="" >
            <span class="post-title" title="C++复习总览">C++复习总览</span>
            <span class="post-date" title="2021-06-05 16:19:52">2021/06/05</span>
        </a>
        
        <a  class="All Algorithm "
           href="/2021/06/03/Archive/Algorithm/DP/"
           data-tag="algorithm"
           data-author="" >
            <span class="post-title" title="DP">DP</span>
            <span class="post-date" title="2021-06-03 21:05:03">2021/06/03</span>
        </a>
        
        <a  class="All Algorithm "
           href="/2021/06/03/Archive/Algorithm/A_Star/"
           data-tag="algorithm"
           data-author="" >
            <span class="post-title" title="A*">A*</span>
            <span class="post-date" title="2021-06-03 21:05:03">2021/06/03</span>
        </a>
        
        <a  class="All Recruitment "
           href="/2021/04/29/Archive/Recruitment/计算机网络整理/"
           data-tag="recruitment"
           data-author="" >
            <span class="post-title" title="计算机网络整理">计算机网络整理</span>
            <span class="post-date" title="2021-04-29 12:24:10">2021/04/29</span>
        </a>
        
        <a  class="All Recruitment "
           href="/2021/04/27/Archive/Recruitment/算法整理/"
           data-tag="recruitment"
           data-author="" >
            <span class="post-title" title="算法整理">算法整理</span>
            <span class="post-date" title="2021-04-27 13:30:10">2021/04/27</span>
        </a>
        
        <a  class="All Recruitment "
           href="/2021/04/21/Archive/Recruitment/图形学整理/"
           data-tag="recruitment"
           data-author="" >
            <span class="post-title" title="图形学整理">图形学整理</span>
            <span class="post-date" title="2021-04-21 22:00:10">2021/04/21</span>
        </a>
        
        <a  class="All Recruitment "
           href="/2021/04/21/Archive/计算机基础/CPP/C++复习/C++复习 智能指针/"
           data-tag="recruitment,c++"
           data-author="" >
            <span class="post-title" title="C++复习 智能指针">C++复习 智能指针</span>
            <span class="post-date" title="2021-04-21 18:49:08">2021/04/21</span>
        </a>
        
        <a  class="All Recruitment "
           href="/2021/04/21/Archive/Recruitment/数据结构整理/"
           data-tag="recruitment"
           data-author="" >
            <span class="post-title" title="数据结构整理">数据结构整理</span>
            <span class="post-date" title="2021-04-21 17:08:10">2021/04/21</span>
        </a>
        
        <a  class="All Recruitment "
           href="/2021/04/21/Archive/计算机基础/CPP/C++复习/C++复习 RTTI/"
           data-tag="recruitment,c++"
           data-author="" >
            <span class="post-title" title="C++复习 RTTI">C++复习 RTTI</span>
            <span class="post-date" title="2021-04-21 16:58:08">2021/04/21</span>
        </a>
        
        <a  class="All Recruitment "
           href="/2021/04/21/Archive/计算机基础/CPP/C++复习/C++复习 只在堆上或栈上生成对象的类/"
           data-tag="recruitment,c++"
           data-author="" >
            <span class="post-title" title="C++复习 只在堆上或栈上生成对象的类">C++复习 只在堆上或栈上生成对象的类</span>
            <span class="post-date" title="2021-04-21 16:48:08">2021/04/21</span>
        </a>
        
        <a  class="All Recruitment "
           href="/2021/04/21/Archive/计算机基础/CPP/C++复习/C++复习 delete this/"
           data-tag="recruitment,c++"
           data-author="" >
            <span class="post-title" title="C++复习 delete this">C++复习 delete this</span>
            <span class="post-date" title="2021-04-21 16:02:08">2021/04/21</span>
        </a>
        
        <a  class="All Recruitment "
           href="/2021/04/20/Archive/计算机基础/CPP/C++复习/C++复习 内存分配和管理/"
           data-tag="recruitment,c++"
           data-author="" >
            <span class="post-title" title="C++复习 内存分配和管理">C++复习 内存分配和管理</span>
            <span class="post-date" title="2021-04-20 18:02:08">2021/04/20</span>
        </a>
        
        <a  class="All Recruitment "
           href="/2021/04/20/Archive/计算机基础/CPP/C++复习/C++复习 虚函数/"
           data-tag="recruitment,c++"
           data-author="" >
            <span class="post-title" title="C++复习 虚函数">C++复习 虚函数</span>
            <span class="post-date" title="2021-04-20 17:22:08">2021/04/20</span>
        </a>
        
        <a  class="All Recruitment "
           href="/2021/04/19/Archive/Recruitment/设计模式整理/"
           data-tag="recruitment"
           data-author="" >
            <span class="post-title" title="设计模式整理">设计模式整理</span>
            <span class="post-date" title="2021-04-19 22:04:10">2021/04/19</span>
        </a>
        
        <a  class="All Recruitment "
           href="/2021/04/19/Archive/计算机基础/CPP/C++复习/C++复习 宏/"
           data-tag="recruitment,c++"
           data-author="" >
            <span class="post-title" title="C++复习 宏">C++复习 宏</span>
            <span class="post-date" title="2021-04-19 21:18:18">2021/04/19</span>
        </a>
        
        <a  class="All Recruitment "
           href="/2021/04/19/Archive/计算机基础/CPP/C++复习/C++复习 引用/"
           data-tag="recruitment,c++"
           data-author="" >
            <span class="post-title" title="C++复习 引用">C++复习 引用</span>
            <span class="post-date" title="2021-04-19 20:50:10">2021/04/19</span>
        </a>
        
        <a  class="All Recruitment "
           href="/2021/04/17/Archive/计算机基础/CPP/C++复习/C++复习 initializer_list初始化/"
           data-tag="recruitment,c++"
           data-author="" >
            <span class="post-title" title="C++复习 initializer_list初始化">C++复习 initializer_list初始化</span>
            <span class="post-date" title="2021-04-17 21:40:08">2021/04/17</span>
        </a>
        
        <a  class="All Recruitment "
           href="/2021/04/17/Archive/计算机基础/CPP/C++复习/C++复习 成员初始化列表/"
           data-tag="recruitment,c++"
           data-author="" >
            <span class="post-title" title="C++复习 成员初始化列表">C++复习 成员初始化列表</span>
            <span class="post-date" title="2021-04-17 21:40:08">2021/04/17</span>
        </a>
        
        <a  class="All Recruitment "
           href="/2021/04/17/Archive/计算机基础/CPP/C++复习/C++复习 面向对象/"
           data-tag="recruitment,c++"
           data-author="" >
            <span class="post-title" title="C++复习 面向对象 -- 封装、继承、多态">C++复习 面向对象 -- 封装、继承、多态</span>
            <span class="post-date" title="2021-04-17 21:40:08">2021/04/17</span>
        </a>
        
        <a  class="All Recruitment "
           href="/2021/04/17/Archive/Recruitment/UE4面经/"
           data-tag="recruitment"
           data-author="" >
            <span class="post-title" title="UE4面经">UE4面经</span>
            <span class="post-date" title="2021-04-17 20:50:10">2021/04/17</span>
        </a>
        
        <a  class="All Recruitment "
           href="/2021/04/17/Archive/Recruitment/数据库整理/"
           data-tag="recruitment"
           data-author="" >
            <span class="post-title" title="数据库整理">数据库整理</span>
            <span class="post-date" title="2021-04-17 20:30:10">2021/04/17</span>
        </a>
        
        <a  class="All Recruitment "
           href="/2021/04/17/Archive/计算机基础/CPP/C++复习/C++复习 decltype/"
           data-tag="recruitment,c++"
           data-author="" >
            <span class="post-title" title="C++复习 decltype">C++复习 decltype</span>
            <span class="post-date" title="2021-04-17 17:10:00">2021/04/17</span>
        </a>
        
        <a  class="All Recruitment "
           href="/2021/04/17/Archive/计算机基础/CPP/C++复习/C++复习 enum/"
           data-tag="recruitment,c++"
           data-author="" >
            <span class="post-title" title="C++复习 enum">C++复习 enum</span>
            <span class="post-date" title="2021-04-17 16:15:08">2021/04/17</span>
        </a>
        
        <a  class="All Recruitment "
           href="/2021/04/17/Archive/计算机基础/CPP/C++复习/C++复习 范围解析运算符/"
           data-tag="recruitment,c++"
           data-author="" >
            <span class="post-title" title="C++复习 范围解析运算符">C++复习 范围解析运算符</span>
            <span class="post-date" title="2021-04-17 16:14:08">2021/04/17</span>
        </a>
        
        <a  class="All Recruitment "
           href="/2021/04/17/Archive/计算机基础/CPP/C++复习/C++复习 friend友元/"
           data-tag="recruitment,c++"
           data-author="" >
            <span class="post-title" title="C++复习 friend友元">C++复习 friend友元</span>
            <span class="post-date" title="2021-04-17 16:02:10">2021/04/17</span>
        </a>
        
        <a  class="All Recruitment "
           href="/2021/04/17/Archive/计算机基础/CPP/C++复习/C++复习 using/"
           data-tag="recruitment,c++"
           data-author="" >
            <span class="post-title" title="C++复习 using">C++复习 using</span>
            <span class="post-date" title="2021-04-17 16:02:10">2021/04/17</span>
        </a>
        
        <a  class="All Recruitment "
           href="/2021/04/16/Archive/计算机基础/CPP/C++复习/C++复习 explicit关键字/"
           data-tag="recruitment,c++"
           data-author="" >
            <span class="post-title" title="C++复习 explicit关键字">C++复习 explicit关键字</span>
            <span class="post-date" title="2021-04-16 20:51:10">2021/04/16</span>
        </a>
        
        <a  class="All Recruitment "
           href="/2021/04/16/Archive/计算机基础/CPP/C++复习/C++复习 c实现c++类/"
           data-tag="recruitment,c++"
           data-author="" >
            <span class="post-title" title="C++复习  c实现c++类">C++复习  c实现c++类</span>
            <span class="post-date" title="2021-04-16 20:40:10">2021/04/16</span>
        </a>
        
        <a  class="All Recruitment "
           href="/2021/04/15/Archive/Recruitment/面经整理/"
           data-tag="recruitment"
           data-author="" >
            <span class="post-title" title="面经整理">面经整理</span>
            <span class="post-date" title="2021-04-15 20:50:10">2021/04/15</span>
        </a>
        
        <a  class="All Recruitment "
           href="/2021/04/12/Archive/计算机基础/CPP/C++复习/C++复习 union/"
           data-tag="recruitment,c++"
           data-author="" >
            <span class="post-title" title="C++复习 union联合体">C++复习 union联合体</span>
            <span class="post-date" title="2021-04-12 17:36:10">2021/04/12</span>
        </a>
        
        <a  class="All Recruitment "
           href="/2021/04/12/Archive/计算机基础/CPP/C++复习/C++复习 struct和typedef struct/"
           data-tag="recruitment,c++"
           data-author="" >
            <span class="post-title" title="C++复习 struct和typedef struct">C++复习 struct和typedef struct</span>
            <span class="post-date" title="2021-04-12 16:04:53">2021/04/12</span>
        </a>
        
        <a  class="All Recruitment "
           href="/2021/04/11/Archive/计算机基础/CPP/C++复习/C++复习 class和struct/"
           data-tag="recruitment,c++"
           data-author="" >
            <span class="post-title" title="C++复习 class和struct">C++复习 class和struct</span>
            <span class="post-date" title="2021-04-11 15:04:08">2021/04/11</span>
        </a>
        
        <a  class="All Recruitment "
           href="/2021/04/10/Archive/计算机基础/CPP/C++复习/C++复习 extern C/"
           data-tag="recruitment,c++"
           data-author="" >
            <span class="post-title" title="C++复习 extern C">C++复习 extern C</span>
            <span class="post-date" title="2021-04-10 20:58:08">2021/04/10</span>
        </a>
        
        <a  class="All Recruitment "
           href="/2021/04/10/Archive/计算机基础/CPP/C++复习/C++复习 位域/"
           data-tag="recruitment,c++"
           data-author="" >
            <span class="post-title" title="C++复习 位域">C++复习 位域</span>
            <span class="post-date" title="2021-04-10 20:44:09">2021/04/10</span>
        </a>
        
        <a  class="All Recruitment "
           href="/2021/04/10/Archive/计算机基础/CPP/C++复习/C++复习 数组 arrary vector/"
           data-tag="recruitment,c++"
           data-author="" >
            <span class="post-title" title="C++复习 数组 array vector">C++复习 数组 array vector</span>
            <span class="post-date" title="2021-04-10 20:44:08">2021/04/10</span>
        </a>
        
        <a  class="All Recruitment "
           href="/2021/04/10/Archive/计算机基础/CPP/C++复习/C++复习 sizeof()/"
           data-tag="recruitment,c++"
           data-author="" >
            <span class="post-title" title="C++复习 sizeof()">C++复习 sizeof()</span>
            <span class="post-date" title="2021-04-10 17:39:08">2021/04/10</span>
        </a>
        
        <a  class="All Recruitment "
           href="/2021/04/10/Archive/计算机基础/CPP/C++复习/C++复习 #pragma pack(n)/"
           data-tag="recruitment,c++"
           data-author="" >
            <span class="post-title" title="C++复习 pragma pack(n)">C++复习 pragma pack(n)</span>
            <span class="post-date" title="2021-04-10 17:39:08">2021/04/10</span>
        </a>
        
        <a  class="All Recruitment "
           href="/2021/04/10/Archive/计算机基础/CPP/C++复习/C++复习 assert/"
           data-tag="recruitment,c++"
           data-author="" >
            <span class="post-title" title="C++复习 assert">C++复习 assert</span>
            <span class="post-date" title="2021-04-10 17:13:08">2021/04/10</span>
        </a>
        
        <a  class="All Recruitment "
           href="/2021/04/10/Archive/计算机基础/CPP/C++复习/C++复习 强制类型转换/"
           data-tag="recruitment,c++"
           data-author="" >
            <span class="post-title" title="C++复习 强制类型转换">C++复习 强制类型转换</span>
            <span class="post-date" title="2021-04-10 16:57:08">2021/04/10</span>
        </a>
        
        <a  class="All Recruitment "
           href="/2021/04/09/Archive/计算机基础/CPP/C++复习/C++复习 volatile/"
           data-tag="recruitment,c++"
           data-author="" >
            <span class="post-title" title="C++复习 volatile">C++复习 volatile</span>
            <span class="post-date" title="2021-04-09 19:36:08">2021/04/09</span>
        </a>
        
        <a  class="All Recruitment "
           href="/2021/04/09/Archive/计算机基础/CPP/C++复习/C++复习 inline/"
           data-tag="recruitment,c++"
           data-author="" >
            <span class="post-title" title="C++复习 inline内联函数">C++复习 inline内联函数</span>
            <span class="post-date" title="2021-04-09 19:13:15">2021/04/09</span>
        </a>
        
        <a  class="All Recruitment "
           href="/2021/04/09/Archive/计算机基础/CPP/C++复习/C++复习 this指针/"
           data-tag="recruitment,c++"
           data-author="" >
            <span class="post-title" title="C++复习 this指针">C++复习 this指针</span>
            <span class="post-date" title="2021-04-09 17:39:10">2021/04/09</span>
        </a>
        
        <a  class="All Recruitment "
           href="/2021/04/09/Archive/计算机基础/CPP/C++复习/C++复习 Static/"
           data-tag="recruitment,c++"
           data-author="" >
            <span class="post-title" title="C++复习 Static">C++复习 Static</span>
            <span class="post-date" title="2021-04-09 12:21:53">2021/04/09</span>
        </a>
        
        <a  class="All Recruitment "
           href="/2021/03/01/Archive/Recruitment/C++整理/"
           data-tag="recruitment"
           data-author="" >
            <span class="post-title" title="C++整理">C++整理</span>
            <span class="post-date" title="2021-03-01 21:17:10">2021/03/01</span>
        </a>
        
        <a  class="All Menu LeetCode "
           href="/2021/02/28/Archive/Menu/LeetCode刷题笔记/"
           data-tag="LeetCode,剑指Offer,menu"
           data-author="" >
            <span class="post-title" title="LeetCode刷题笔记">LeetCode刷题笔记</span>
            <span class="post-date" title="2021-02-28 14:50:13">2021/02/28</span>
        </a>
        
        <a  class="All LeetCode "
           href="/2021/02/28/Archive/LeetCode/[剑指Offer] 06.从尾到头打印链表/"
           data-tag="LeetCode,LinkList,剑指Offer"
           data-author="" >
            <span class="post-title" title="剑指Offer 06.从尾到头打印链表">剑指Offer 06.从尾到头打印链表</span>
            <span class="post-date" title="2021-02-28 11:07:13">2021/02/28</span>
        </a>
        
        <a  class="All LeetCode "
           href="/2021/02/27/Archive/LeetCode/[剑指Offer] 07.重建二叉树/"
           data-tag="LeetCode,剑指Offer,Tree,Divide and conquer"
           data-author="" >
            <span class="post-title" title="剑指Offer 07.重建二叉树">剑指Offer 07.重建二叉树</span>
            <span class="post-date" title="2021-02-27 15:07:13">2021/02/27</span>
        </a>
        
        <a  class="All LeetCode "
           href="/2021/02/04/Archive/LeetCode/并查集总结/"
           data-tag="LeetCode,并查集"
           data-author="" >
            <span class="post-title" title="并查集总结">并查集总结</span>
            <span class="post-date" title="2021-02-04 16:51:28">2021/02/04</span>
        </a>
        
        <a  class="All LeetCode "
           href="/2021/01/16/Archive/LeetCode/[LC] 200.岛屿数量/"
           data-tag="LeetCode,DFS,BFS,并查集"
           data-author="" >
            <span class="post-title" title="LeetCode 200.无重复字符的最长子串">LeetCode 200.无重复字符的最长子串</span>
            <span class="post-date" title="2021-01-16 19:02:38">2021/01/16</span>
        </a>
        
        <a  class="All "
           href="/2020/07/13/Archive/LeetCode/[LC] 5.最长回文子串/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="LeetCode 5.最长回文子串">LeetCode 5.最长回文子串</span>
            <span class="post-date" title="2020-07-13 14:36:57">2020/07/13</span>
        </a>
        
        <a  class="All LeetCode "
           href="/2020/07/12/Archive/LeetCode/[LC] 3.无重复字符的最长子串/"
           data-tag="LeetCode,HashMap,DoublePointer,String,SlidingWindow"
           data-author="" >
            <span class="post-title" title="LeetCode 3.无重复字符的最长子串">LeetCode 3.无重复字符的最长子串</span>
            <span class="post-date" title="2020-07-12 12:39:42">2020/07/12</span>
        </a>
        
        <a  class="All LeetCode "
           href="/2020/07/11/Archive/LeetCode/[LC] 1.两数之和/"
           data-tag="LeetCode,Array,HashMap"
           data-author="" >
            <span class="post-title" title="LeetCode 1.两数之和">LeetCode 1.两数之和</span>
            <span class="post-date" title="2020-07-11 15:09:42">2020/07/11</span>
        </a>
        
        <a  class="All CG "
           href="/2020/01/10/CG/Render/Render-RayMarching/"
           data-tag="computer graphics,opengl"
           data-author="" >
            <span class="post-title" title="Ray Marching">Ray Marching</span>
            <span class="post-date" title="2020-01-10 18:34:24">2020/01/10</span>
        </a>
        
        <a  class="All CG "
           href="/2020/01/04/CG/Opengl/LearnOpengl-CoordinateSystems/"
           data-tag="computer graphics,opengl"
           data-author="" >
            <span class="post-title" title="LearnOpengl-CoordinateSystems">LearnOpengl-CoordinateSystems</span>
            <span class="post-date" title="2020-01-04 16:30:47">2020/01/04</span>
        </a>
        
        <a  class="All CG "
           href="/2019/12/04/CG/Opengl/LearnOpengl-Transformations/"
           data-tag="computer graphics,opengl"
           data-author="" >
            <span class="post-title" title="LearnOpengl-Transformations">LearnOpengl-Transformations</span>
            <span class="post-date" title="2019-12-04 20:02:13">2019/12/04</span>
        </a>
        
        <a  class="All CG "
           href="/2019/11/21/CG/Opengl/LearnOpengl-Textures/"
           data-tag="computer graphics,opengl"
           data-author="" >
            <span class="post-title" title="LearnOpengl-Textures">LearnOpengl-Textures</span>
            <span class="post-date" title="2019-11-21 18:58:30">2019/11/21</span>
        </a>
        
        <a  class="All CG "
           href="/2019/11/21/CG/Opengl/LearnOpengl-Shaders/"
           data-tag="computer graphics,opengl"
           data-author="" >
            <span class="post-title" title="LearnOpengl-Shaders">LearnOpengl-Shaders</span>
            <span class="post-date" title="2019-11-21 18:40:03">2019/11/21</span>
        </a>
        
        <a  class="All UE4 "
           href="/2019/10/08/CG/UE4/Old/UE4Live-RenderProcess/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="UE4Live_RenderProcess">UE4Live_RenderProcess</span>
            <span class="post-date" title="2019-10-08 21:50:59">2019/10/08</span>
        </a>
        
        <a  class="All CG "
           href="/2019/10/08/CG/Opengl/LearnOpengl-HelloTriangle/"
           data-tag="computer graphics,opengl"
           data-author="" >
            <span class="post-title" title="LearnOpengl_HelloTriangle">LearnOpengl_HelloTriangle</span>
            <span class="post-date" title="2019-10-08 18:33:36">2019/10/08</span>
        </a>
        
        <a  class="All UE4 "
           href="/2019/10/07/CG/UE4/Old/UE4Render-ResourceOperation/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="虚幻4渲染编程 - 资源操作">虚幻4渲染编程 - 资源操作</span>
            <span class="post-date" title="2019-10-07 21:43:49">2019/10/07</span>
        </a>
        
        <a  class="All UE4 "
           href="/2019/10/06/CG/UE4/Old/UE4Render-addParams/"
           data-tag="ue4,render,shader"
           data-author="" >
            <span class="post-title" title="在shader文件中添加第二个颜色变量">在shader文件中添加第二个颜色变量</span>
            <span class="post-date" title="2019-10-06 11:46:00">2019/10/06</span>
        </a>
        
        <a  class="All CG "
           href="/2019/09/21/CG/Opengl/LearnOpengl-HelloWindow/"
           data-tag="computer graphics,opengl"
           data-author="" >
            <span class="post-title" title="LearnOpengl_HelloWindow">LearnOpengl_HelloWindow</span>
            <span class="post-date" title="2019-09-21 16:00:18">2019/09/21</span>
        </a>
        
        <a  class="All CG "
           href="/2019/09/09/CG/DirextX/D3DTransform/"
           data-tag="computer graphics,directx11"
           data-author="" >
            <span class="post-title" title="DirectX11龙书-第三章:变换">DirectX11龙书-第三章:变换</span>
            <span class="post-date" title="2019-09-09 15:51:46">2019/09/09</span>
        </a>
        
        <a  class="All CG "
           href="/2019/09/09/CG/DirextX/D3DInit/"
           data-tag="computer graphics,directx11"
           data-author="" >
            <span class="post-title" title="DirectX11龙书-第四章:渲染管线">DirectX11龙书-第四章:渲染管线</span>
            <span class="post-date" title="2019-09-09 15:26:18">2019/09/09</span>
        </a>
        
        <a  class="All UE4 "
           href="/2019/09/05/CG/UE4/Old/UE4RenderModule/"
           data-tag="ue4,render"
           data-author="" >
            <span class="post-title" title="虚幻4渲染模块">虚幻4渲染模块</span>
            <span class="post-date" title="2019-09-05 09:30:06">2019/09/05</span>
        </a>
        
        <a  class="All CG "
           href="/2019/08/19/CG/DirextX/渲染管线/"
           data-tag="computer graphics,directx11"
           data-author="" >
            <span class="post-title" title="DirectX11龙书-第五章:渲染管线">DirectX11龙书-第五章:渲染管线</span>
            <span class="post-date" title="2019-08-19 10:56:43">2019/08/19</span>
        </a>
        
        <a  class="All UE4 "
           href="/2019/08/07/CG/UE4/Old/JSON/"
           data-tag="ue4,json"
           data-author="" >
            <span class="post-title" title="虚幻4之JSON学习">虚幻4之JSON学习</span>
            <span class="post-date" title="2019-08-07 20:07:01">2019/08/07</span>
        </a>
        
        <a  class="All Menu UE4 "
           href="/2019/08/07/Archive/Menu/UE4Menu/"
           data-tag="menu,ue4,slate,json"
           data-author="" >
            <span class="post-title" title="虚幻4学习">虚幻4学习</span>
            <span class="post-date" title="2019-08-07 16:58:06">2019/08/07</span>
        </a>
        
        <a  class="All UE4 "
           href="/2019/08/06/CG/UE4/Old/DelegateAndMacro/"
           data-tag="ue4,slate"
           data-author="" >
            <span class="post-title" title="虚幻4之Slate学习四 —— 委托与宏">虚幻4之Slate学习四 —— 委托与宏</span>
            <span class="post-date" title="2019-08-06 14:47:37">2019/08/06</span>
        </a>
        
        <a  class="All UE4 "
           href="/2019/08/04/CG/UE4/Old/SlateWidget/"
           data-tag="ue4,slate"
           data-author="" >
            <span class="post-title" title="虚幻4之Slate学习三 —— 创建Slate控件">虚幻4之Slate学习三 —— 创建Slate控件</span>
            <span class="post-date" title="2019-08-04 20:20:05">2019/08/04</span>
        </a>
        
        <a  class="All UE4 "
           href="/2019/08/03/CG/UE4/Old/WidgetStyle/"
           data-tag="ue4,slate"
           data-author="" >
            <span class="post-title" title="虚幻4之Slate学习二 —— Slate控件样式">虚幻4之Slate学习二 —— Slate控件样式</span>
            <span class="post-date" title="2019-08-03 15:49:36">2019/08/03</span>
        </a>
        
        <a  class="All UE4 "
           href="/2019/08/02/CG/UE4/Old/HUD/"
           data-tag="ue4,slate"
           data-author="" >
            <span class="post-title" title="虚幻4之Slate学习一 —— HUD">虚幻4之Slate学习一 —— HUD</span>
            <span class="post-date" title="2019-08-02 10:07:12">2019/08/02</span>
        </a>
        
        <a  class="All Algorithm "
           href="/2019/08/01/Archive/Algorithm/KMP/"
           data-tag="algorithm"
           data-author="" >
            <span class="post-title" title="KMP">KMP</span>
            <span class="post-date" title="2019-08-01 16:47:03">2019/08/01</span>
        </a>
        
        <div id="no-item-tips">

        </div>
    </nav>
    <div id="outline-list">
    </div>
</div>
    </div>
    <div class="hide-list">
        <div class="semicircle" data-title="切换全屏 快捷键 s">
            <div class="brackets first"><</div>
            <div class="brackets">&gt;</div>
        </div>
    </div>
</aside>
<div id="post">
    <div class="pjax">
        <article id="post-Archive/计算机基础/MultiThreads/C++_MultiThreads" class="article article-type-post" itemscope itemprop="blogPost">
    
        <h1 class="article-title">C++多线程并发</h1>
    
    <div class="article-meta">
        
        
        
        <span class="book">
            <i class="iconfont icon-category"></i>
            
            
            <a  data-rel="ComputerBasics">ComputerBasics</a>
            
        </span>
        
        
        <span class="tag">
            <i class="iconfont icon-tag"></i>
            
            <a class="color4">C++</a>
            
            <a class="color3">MultiThreads</a>
            
        </span>
        
    </div>
    <div class="article-meta">
        
            Created At : <time class="date" title='Updated At: 2021-09-09 09:51:34'>2021-08-06 14:57</time>
        
    </div>
    <div class="article-meta">
        
        
        
        <span class="top-comment" title="跳转至评论区">
            <a href="#comments">
                Comment:<span class="count-comment">
                    <span class="spinner">
                      <div class="cube1"></div>
                      <div class="cube2"></div>
                    </span>
                </span>
            </a>
        </span>
        
    </div>
    
    <div class="toc-ref">
    
        <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#什么是C-多线程并发"><span class="toc-text">什么是C++多线程并发</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#什么时候不适用多线程并发"><span class="toc-text">什么时候不适用多线程并发</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#C-多线程并发基础知识"><span class="toc-text">C++多线程并发基础知识</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#创建线程"><span class="toc-text">创建线程</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#std-ref和std-cref-std-bind"><span class="toc-text">std::ref和std::cref /std::bind</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#为什么线程函数不能传引用"><span class="toc-text">为什么线程函数不能传引用</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#使用方法"><span class="toc-text">使用方法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#创建线程时的传参问题分析"><span class="toc-text">创建线程时的传参问题分析</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#互斥量（锁）使用"><span class="toc-text">互斥量（锁）使用</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#什么是互斥量（锁）"><span class="toc-text">什么是互斥量（锁）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#死锁"><span class="toc-text">死锁</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#临界区、信号量、互斥量（锁）的区别与联系："><span class="toc-text">临界区、信号量、互斥量（锁）的区别与联系：</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#同步与互斥"><span class="toc-text">同步与互斥</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#锁的类型"><span class="toc-text">锁的类型</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#互斥锁"><span class="toc-text">互斥锁</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#读写锁"><span class="toc-text">读写锁</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#自旋锁"><span class="toc-text">自旋锁</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#C-多线程相关函数"><span class="toc-text">C++多线程相关函数</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#加锁-lock-与unlock"><span class="toc-text">加锁-lock()与unlock()</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#加锁-lock-guard"><span class="toc-text">加锁-lock_guard()</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#加锁-unique-lock"><span class="toc-text">加锁-unique_lock()</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#std-unique-lock所有权的转移"><span class="toc-text">std::unique_lock所有权的转移</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#线程同步-condition-variable"><span class="toc-text">线程同步 - condition_variable</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#异步线程"><span class="toc-text">异步线程</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#async与future"><span class="toc-text">async与future</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#include"><span class="toc-text">include </span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#include-1"><span class="toc-text">include </span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#include-2"><span class="toc-text">include </span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#include-3"><span class="toc-text">include</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#include-4"><span class="toc-text">include</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#C-多线程并发高级知识"><span class="toc-text">C++多线程并发高级知识</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#线程池"><span class="toc-text">线程池</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#线程池解决的问题"><span class="toc-text">线程池解决的问题</span></a></li></ol></li></ol></li></ol>
    
<style>
    .left-col .switch-btn,
    .left-col .switch-area {
        display: none;
    }
    .toc-level-3 i,
    .toc-level-3 ol {
        display: none !important;
    }
</style>
</div>
    
    <div class="article-entry" itemprop="articleBody">
      
        <ul>
<li>参考:<a href="https://zhuanlan.zhihu.com/p/194198073" target="_blank" rel="noopener">C++多线程并发基础入门教程</a></li>
</ul>
<h1 id="什么是C-多线程并发"><a href="#什么是C-多线程并发" class="headerlink" title="什么是C++多线程并发"></a>什么是C++多线程并发</h1><ul>
<li>线程</li>
<li>多线程并发<blockquote>
<p>多线程并发即多个线程同时执行,一般而言，多线程并发就是把一个任务拆分为多个子任务，然后交由不同线程处理不同子任务,使得这多个子任务同时执行</p>
</blockquote>
</li>
<li>C++多线程并发<blockquote>
<p>实现C++多线程并发程序的思路如下：将任务的不同功能交由多个函数分别实现，创建多个线程，每个线程执行一个函数，一个任务就这样同时分由不同线程执行了。</p>
</blockquote>
</li>
</ul>
<h2 id="什么时候不适用多线程并发"><a href="#什么时候不适用多线程并发" class="headerlink" title="什么时候不适用多线程并发"></a>什么时候不适用多线程并发</h2><ul>
<li>每创建一个线程,系统要分配给线程相应的栈空间，用于保存上下文信息.</li>
<li>如果线程执行过快导致上下文切换频繁，这将导致收益比不上成本</li>
</ul>
<h1 id="C-多线程并发基础知识"><a href="#C-多线程并发基础知识" class="headerlink" title="C++多线程并发基础知识"></a>C++多线程并发基础知识</h1><h2 id="创建线程"><a href="#创建线程" class="headerlink" title="创建线程"></a>创建线程</h2><h3 id="std-ref和std-cref-std-bind"><a href="#std-ref和std-cref-std-bind" class="headerlink" title="std::ref和std::cref /std::bind"></a>std::ref和std::cref /std::bind</h3><ul>
<li>std::ref 用于包装按引用传递的值</li>
<li>std::cref 用于包装按const引用传递的值</li>
</ul>
<h3 id="为什么线程函数不能传引用"><a href="#为什么线程函数不能传引用" class="headerlink" title="为什么线程函数不能传引用"></a>为什么线程函数不能传引用</h3><ul>
<li><a href="https://www.zhihu.com/question/38273897" target="_blank" rel="noopener">C++传递参数给线程函数时出现问题？</a><blockquote>
<p>C++封装thread是通过将thread entry functor和所有的参数打包到一个数据结构里，然后通过库中的一个预先写好的OS compatible thread entry function启动线程，在这个函数中将传进去的数据结构解包再运行。</p>
</blockquote>
</li>
</ul>
<blockquote>
<p>这个过程需要将所有的参数copy/move一份，而众所周知引用本身是不能copy/move的，所以C++在标准库里加入了std::reference_wrapper，这个东西其实很无聊，就是把引用变成指针存起来，用的时候再转成引用，但这样就解决了引用不能copy/move的问题，因为指针是可以copy的，而std::ref/std::cref就是返回std::reference_wrapper的builder function。</p>
</blockquote>
<h3 id="使用方法"><a href="#使用方法" class="headerlink" title="使用方法"></a>使用方法</h3><pre><code class="lang-cpp">//创建线程
std::thread THREAD_NAME(FUNCTION_NAME,PARAM...);

//当线程启动后，一定要在和线程相关联的std::thread对象销毁前，对线程运用join()或者detach()方法。

//当使用join()函数时，主调线程阻塞，等待被调线程终止，然后主调线程回收被调线程资源，并继续运行；
THREAD_NAME::join();

//当使用detach()函数时，主调线程继续运行，被调线程驻留后台运行，主调线程无法再取得该被调线程的控制权。当主调线程结束时，由运行时库负责清理与被调线程相关的资源。
THREAD_NAME::detach();

//joinable()函数是一个布尔类型的函数，他会返回一个布尔值来表示当前的线程是否是可执行线程(能被join或者detach)，因为相同的线程不能join两次，也不能join完再detach，同理也不能detach，所以joinable函数就是用来判断当前这个线程是否可以joinable的。
THREAD_NAME::joinable();
</code></pre>
<pre><code class="lang-cpp">#include&lt;iostream&gt;
#include&lt;thread&gt;
using namespace std;
void proc(int &amp;a)
{
    cout &lt;&lt; &quot;我是子线程,传入参数为&quot; &lt;&lt; a &lt;&lt; endl;
    cout &lt;&lt; &quot;子线程中显示子线程id为&quot; &lt;&lt; this_thread::get_id()&lt;&lt; endl;
}
int main()
{
    cout &lt;&lt; &quot;我是主线程&quot; &lt;&lt; endl;
    int a = 9;
    thread th2(proc,ref(a));//第一个参数为函数名，第二个参数为该函数的第一个参数，如果该函数接收多个参数就依次写在后面。此时线程开始执行。
    th2.join();//此时主线程被阻塞直至子线程执行结束。
    cout &lt;&lt; &quot;主线程中显示子线程id为&quot; &lt;&lt; th2.get_id() &lt;&lt; endl;
    return 0;
}
</code></pre>
<h3 id="创建线程时的传参问题分析"><a href="#创建线程时的传参问题分析" class="headerlink" title="创建线程时的传参问题分析"></a>创建线程时的传参问题分析</h3><ul>
<li>创建线程时需要传递函数名作为参数，提供的函数对象会复制到新的线程的内存空间中执行与调用。</li>
<li>在传参过程中,std::thread的构造函数会拷贝传入的参数<ul>
<li>当传入参数为基本数据类型(int，char,string等)时，会拷贝一份给创建的线程；</li>
<li>当传入参数为指针时，会浅拷贝一份给创建的线程，也就是说，只会拷贝对象的指针，不会拷贝指针指向的对象本身。</li>
<li>当传入的参数为引用时，实参必须用ref()函数处理后传递给形参，否则编译不通过，此时不存在“拷贝”行为<ul>
<li>引用只是变量的别名，在线程中传递对象的引用，那么该对象始终只有一份，只是存在多个别名罢了</li>
<li>对于std::ref,其底层相当于拷贝指针,但是在解释的时候，使用引用解释.</li>
</ul>
</li>
</ul>
</li>
</ul>
<h1 id="互斥量（锁）使用"><a href="#互斥量（锁）使用" class="headerlink" title="互斥量（锁）使用"></a>互斥量（锁）使用</h1><h2 id="什么是互斥量（锁）"><a href="#什么是互斥量（锁）" class="headerlink" title="什么是互斥量（锁）"></a>什么是互斥量（锁）</h2><ul>
<li>在访问共享数据时,代码进入临界区，对于多个线程需要互斥访问这时候需要使用互斥量(锁)<blockquote>
<p>互斥量是为了解决数据共享过程中可能存在的访问冲突的问题</p>
</blockquote>
</li>
</ul>
<h2 id="死锁"><a href="#死锁" class="headerlink" title="死锁"></a>死锁</h2><h2 id="临界区、信号量、互斥量（锁）的区别与联系："><a href="#临界区、信号量、互斥量（锁）的区别与联系：" class="headerlink" title="临界区、信号量、互斥量（锁）的区别与联系："></a>临界区、信号量、互斥量（锁）的区别与联系：</h2><ul>
<li>共同点:<ul>
<li>三者都可以用来进行进程的同步与互斥</li>
</ul>
</li>
<li>不同点:<ul>
<li>临界区:速度最快，但只能作用于同一进程下不同线程，不能作用于不同进程；临界区可确保某一代码段同一时刻只被一个线程执行；</li>
<li>信号量:多个线程同一时刻访问共享资源，进行线程的计数，确保同时访问资源的线程数目不超过上限，当访问数超过上限后，不发出信号量；</li>
<li>互斥量:比临界区满，但支持不同进程间的同步与互斥</li>
</ul>
</li>
</ul>
<h2 id="同步与互斥"><a href="#同步与互斥" class="headerlink" title="同步与互斥"></a>同步与互斥</h2><ul>
<li>任务运行时，有些任务片段间存在严格的先后顺序，同步指维护任务片段的先后顺序;</li>
<li>互斥就是保证资源同一时刻只能被一个进程使用；互斥是为了保证数据的一致性</li>
</ul>
<h2 id="锁的类型"><a href="#锁的类型" class="headerlink" title="锁的类型"></a>锁的类型</h2><h3 id="互斥锁"><a href="#互斥锁" class="headerlink" title="互斥锁"></a>互斥锁</h3><ul>
<li>互斥量mutex就是互斥锁，加锁的资源支持互斥访问；<h3 id="读写锁"><a href="#读写锁" class="headerlink" title="读写锁"></a>读写锁</h3></li>
<li>shared_mutex读写锁把对共享资源的访问者划分成读者和写者，多个读线程能同时读取共享资源，但只有一个写线程能同时读取共享资源</li>
<li>shared_mutex通过lock_shared，unlock_shared进行读者的锁定与解锁；通过lock，unlock进行写者的锁定与解锁。</li>
</ul>
<pre><code class="lang-cpp">shared_mutex s_m;

std::string book;

void read()
{
    s_m.lock_shared();
    cout &lt;&lt; book;
    s_m.unlock_shared();
}

void write()
{
    s_m.lock();
    book = &quot;new context&quot;;
    s_m.unlock();
}
</code></pre>
<h3 id="自旋锁"><a href="#自旋锁" class="headerlink" title="自旋锁"></a>自旋锁</h3><ul>
<li>如果自旋锁已经被别的执行单元保持，调用者就一直循环在那里看是否该自旋锁的保持者已经释放了锁；</li>
<li>自旋锁比较适用于锁使用者保持锁时间比较短的情况。</li>
</ul>
<h2 id="C-多线程相关函数"><a href="#C-多线程相关函数" class="headerlink" title="C++多线程相关函数"></a>C++多线程相关函数</h2><ul>
<li>进入代码临界区的时候需要进行加锁<h3 id="加锁-lock-与unlock"><a href="#加锁-lock-与unlock" class="headerlink" title="加锁-lock()与unlock()"></a>加锁-lock()与unlock()</h3></li>
<li><code>mutex m</code>表示实例化mutex变量,用于加锁.<ul>
<li>如果该互斥量当前未上锁，则本线程将该互斥量锁住，直到调用unlock()之前，本线程一直拥有该锁</li>
<li>如果该互斥量当前被其他线程锁住，则本线程被阻塞,直至该互斥量被其他线程解锁，此时本线程将该互斥量锁住，直到调用unlock()之前，本线程一直拥有该锁</li>
</ul>
</li>
<li>缺点<ul>
<li>如果忘记unlock()，将导致锁无法释放</li>
</ul>
</li>
</ul>
<pre><code class="lang-cpp">#include&lt;iostream&gt;
#include&lt;thread&gt;
#include&lt;mutex&gt;
using namespace std;
mutex m;//实例化m对象，不要理解为定义变量
void proc1(int a)
{
    m.lock();
    cout &lt;&lt; &quot;proc1函数正在改写a&quot; &lt;&lt; endl;
    cout &lt;&lt; &quot;原始a为&quot; &lt;&lt; a &lt;&lt; endl;
    cout &lt;&lt; &quot;现在a为&quot; &lt;&lt; a + 2 &lt;&lt; endl;
    m.unlock();
}

void proc2(int a)
{
    m.lock();
    cout &lt;&lt; &quot;proc2函数正在改写a&quot; &lt;&lt; endl;
    cout &lt;&lt; &quot;原始a为&quot; &lt;&lt; a &lt;&lt; endl;
    cout &lt;&lt; &quot;现在a为&quot; &lt;&lt; a + 1 &lt;&lt; endl;
    m.unlock();
}
int main()
{
    int a = 0;
    thread t1(proc1, a);
    thread t2(proc2, a);
    t1.join();
    t2.join();
    return 0;
}
</code></pre>
<h3 id="加锁-lock-guard"><a href="#加锁-lock-guard" class="headerlink" title="加锁-lock_guard()"></a>加锁-lock_guard()</h3><ul>
<li>声明一个局部的std::lock_guard对象，在其构造函数中进行加锁，在其析构函数中进行解锁<ul>
<li>创建即加锁，作用域结束自动解锁</li>
</ul>
</li>
</ul>
<pre><code class="lang-cpp">#include&lt;iostream&gt;
#include&lt;thread&gt;
#include&lt;mutex&gt;
using namespace std;
mutex m;//实例化m对象，不要理解为定义变量
void proc1(int a)
{
    lock_guard&lt;mutex&gt; g1(m);//用此语句替换了m.lock()；lock_guard传入一个参数时，该参数为互斥量，此时调用了lock_guard的构造函数，申请锁定m
    cout &lt;&lt; &quot;proc1函数正在改写a&quot; &lt;&lt; endl;
    cout &lt;&lt; &quot;原始a为&quot; &lt;&lt; a &lt;&lt; endl;
    cout &lt;&lt; &quot;现在a为&quot; &lt;&lt; a + 2 &lt;&lt; endl;
}//此时不需要写m.unlock(),g1出了作用域被释放，自动调用析构函数，于是m被解锁

void proc2(int a)
{
    {
        lock_guard&lt;mutex&gt; g2(m);
        cout &lt;&lt; &quot;proc2函数正在改写a&quot; &lt;&lt; endl;
        cout &lt;&lt; &quot;原始a为&quot; &lt;&lt; a &lt;&lt; endl;
        cout &lt;&lt; &quot;现在a为&quot; &lt;&lt; a + 1 &lt;&lt; endl;
    }//通过使用{}来调整作用域范围，可使得m在合适的地方被解锁
    cout &lt;&lt; &quot;作用域外的内容3&quot; &lt;&lt; endl;
    cout &lt;&lt; &quot;作用域外的内容4&quot; &lt;&lt; endl;
    cout &lt;&lt; &quot;作用域外的内容5&quot; &lt;&lt; endl;
}
int main()
{
    int a = 0;
    thread t1(proc1, a);
    thread t2(proc2, a);
    t1.join();
    t2.join();
    return 0;
}
</code></pre>
<ul>
<li>adopt_lock标识表示构造函数中不再进行互斥量锁定，因此此时需要提前手动锁定</li>
</ul>
<pre><code class="lang-cpp">#include&lt;iostream&gt;
#include&lt;thread&gt;
#include&lt;mutex&gt;
using namespace std;
mutex m;//实例化m对象，不要理解为定义变量
void proc1(int a)
{
    m.lock();//手动锁定
    lock_guard&lt;mutex&gt; g1(m,adopt_lock);
    cout &lt;&lt; &quot;proc1函数正在改写a&quot; &lt;&lt; endl;
    cout &lt;&lt; &quot;原始a为&quot; &lt;&lt; a &lt;&lt; endl;
    cout &lt;&lt; &quot;现在a为&quot; &lt;&lt; a + 2 &lt;&lt; endl;
}//自动解锁

void proc2(int a)
{
    lock_guard&lt;mutex&gt; g2(m);//自动锁定
    cout &lt;&lt; &quot;proc2函数正在改写a&quot; &lt;&lt; endl;
    cout &lt;&lt; &quot;原始a为&quot; &lt;&lt; a &lt;&lt; endl;
    cout &lt;&lt; &quot;现在a为&quot; &lt;&lt; a + 1 &lt;&lt; endl;
}//自动解锁
int main()
{
    int a = 0;
    thread t1(proc1, a);
    thread t2(proc2, a);
    t1.join();
    t2.join();
    return 0;
}
</code></pre>
<h3 id="加锁-unique-lock"><a href="#加锁-unique-lock" class="headerlink" title="加锁-unique_lock()"></a>加锁-unique_lock()</h3><p><img src="C++_MultiThreads/unique_lock.jpg" alt></p>
<pre><code class="lang-cpp">#include&lt;iostream&gt;
#include&lt;thread&gt;
#include&lt;mutex&gt;
using namespace std;
mutex m;
void proc1(int a)
{
    unique_lock&lt;mutex&gt; g1(m, defer_lock);//始化了一个没有加锁的mutex
    cout &lt;&lt; &quot;xxxxxxxx&quot; &lt;&lt; endl;
    g1.lock();//手动加锁，注意，不是m.lock();注意，不是m.lock(),m已经被g1接管了;
    cout &lt;&lt; &quot;proc1函数正在改写a&quot; &lt;&lt; endl;
    cout &lt;&lt; &quot;原始a为&quot; &lt;&lt; a &lt;&lt; endl;
    cout &lt;&lt; &quot;现在a为&quot; &lt;&lt; a + 2 &lt;&lt; endl;
    g1.unlock();//临时解锁
    cout &lt;&lt; &quot;xxxxx&quot; &lt;&lt; endl;
    g1.lock();
    cout &lt;&lt; &quot;xxxxxx&quot; &lt;&lt; endl;
}//自动解锁

void proc2(int a)
{
    unique_lock&lt;mutex&gt; g2(m, try_to_lock);//尝试加锁一次，但如果没有锁定成功，会立即返回，不会阻塞在那里，且不会再次尝试锁操作。
    if (g2.owns_lock()) {//锁成功
        cout &lt;&lt; &quot;proc2函数正在改写a&quot; &lt;&lt; endl;
        cout &lt;&lt; &quot;原始a为&quot; &lt;&lt; a &lt;&lt; endl;
        cout &lt;&lt; &quot;现在a为&quot; &lt;&lt; a + 1 &lt;&lt; endl;
    }
    else {//锁失败则执行这段语句
        cout &lt;&lt; &quot;&quot; &lt;&lt; endl;
    }
}//自动解锁

int main()
{
    int a = 0;
    thread t1(proc1, a);
    t1.join();
    //thread t2(proc2, a);
    //t2.join();
    return 0;
}
</code></pre>
<h4 id="std-unique-lock所有权的转移"><a href="#std-unique-lock所有权的转移" class="headerlink" title="std::unique_lock所有权的转移"></a>std::unique_lock所有权的转移</h4><pre><code class="lang-cpp">mutex m;
{  
    unique_lock&lt;mutex&gt; g2(m,defer_lock);
    unique_lock&lt;mutex&gt; g3(move(g2));//所有权转移，此时由g3来管理互斥量m
    g3.lock();
    g3.unlock();
    g3.lock();
}
</code></pre>
<h3 id="线程同步-condition-variable"><a href="#线程同步-condition-variable" class="headerlink" title="线程同步 - condition_variable"></a>线程同步 - condition_variable</h3><ul>
<li>std::condition_variable对象的作用不是用来管理互斥量的，它的作用是用来同步线程</li>
<li><p>它的用法相当于编程中常见的flag标志</p>
</li>
<li><p>wait函数需要传入一个std::mutex（一般会传入std::unique_lock对象）,即上述的locker。wait函数会自动调用 locker.unlock() 释放锁（因为需要释放锁，所以要传入mutex）并阻塞当前线程，本线程释放锁使得其他的线程得以继续竞争锁。一旦当前线程获得notify(通常是另外某个线程调用 notify_* 唤醒了当前线程)，wait() 函数此时再自动调用 locker.lock()上锁。</p>
</li>
<li><p>cond.notify_one(): 随机唤醒一个等待的线程</p>
</li>
<li><p>cond.notify_all(): 唤醒所有等待的线程</p>
<pre><code class="lang-cpp">std::wait(MUTEX_NAME)
</code></pre>
<h2 id="异步线程"><a href="#异步线程" class="headerlink" title="异步线程"></a>异步线程</h2><h3 id="async与future"><a href="#async与future" class="headerlink" title="async与future"></a>async与future</h3></li>
<li>std::async是一个函数模板，用来启动一个异步任务,它返回一个std::future类模板对象</li>
<li>future对象起到了占位的作用,调用std::future对象的get()成员函数时，主线程会被阻塞直到异步线程执行结束，并把返回结果传递给std::future，即通过FutureObject.get()获取函数返回值<br>```cpp<h1 id="include"><a href="#include" class="headerlink" title="include "></a>include <iostream></iostream></h1><h1 id="include-1"><a href="#include-1" class="headerlink" title="include "></a>include <thread></thread></h1><h1 id="include-2"><a href="#include-2" class="headerlink" title="include "></a>include <mutex></mutex></h1><h1 id="include-3"><a href="#include-3" class="headerlink" title="include"></a>include<future></future></h1><h1 id="include-4"><a href="#include-4" class="headerlink" title="include"></a>include<windows.h></windows.h></h1>using namespace std;<br>double t1(const double a, const double b)<br>{<br>double c = a + b;<br>Sleep(3000);//假设t1函数是个复杂的计算过程，需要消耗3秒<br>return c;<br>}</li>
</ul>
<p>int main()<br>{<br> double a = 2.3;<br> double b = 6.7;<br> future<double> fu = async(t1, a, b);//创建异步线程线程，并将线程的执行结果用fu占位；<br> cout &lt;&lt; “正在进行计算” &lt;&lt; endl;<br> cout &lt;&lt; “计算结果马上就准备好，请您耐心等待” &lt;&lt; endl;<br> cout &lt;&lt; “计算结果：” &lt;&lt; fu.get() &lt;&lt; endl;//阻塞主线程，直至异步线程return<br>        //cout &lt;&lt; “计算结果：” &lt;&lt; fu.get() &lt;&lt; endl;//取消该语句注释后运行会报错，因为future对象的get()方法只能调用一次。<br> return 0;<br>}</double></p>
<pre><code>
### shared_future

![](C++_MultiThreads/shared_future.jpg)

## 原子类型atomic&lt;&gt;
* 原子操作指“不可分割的操作”
* 互斥量的加锁一般是针对一个代码段，而原子操作针对的一般都是一个变量(操作变量时加锁防止他人干扰)
* std::atomic&lt;&gt;是一个模板类，使用该模板类实例化的对象，提供了一些保证原子性的成员函数来实现共享数据的常用操作
&gt; std::atomic&lt;&gt;用来定义一个自动加锁解锁的共享变量，供多个线程访问而不发生冲突。

&gt; std::atomic&lt;&gt;对象提供了常见的原子操作:store,load,exchange,++，–，+=，-=，&amp;=，|=，^=等

# 生产者消费者问题
* 生产者用于生产数据，生产一个就往共享数据区存一个，如果共享数据区已满的话，生产者就暂停生产，等待消费者的通知后再启动。

* 消费者用于消费数据，一个一个的从共享数据区取，如果共享数据区为空的话，消费者就暂停取数据，等待生产者的通知后再启动。

```cpp
#include&lt;iostream&gt;
#include&lt;thread&gt;
#include&lt;mutex&gt;
#include&lt;queue&gt;
#include&lt;condition_variable&gt;


using namespace std;

//缓冲区存储的数据类型 
struct CacheData
{
    //商品id 
    int id;
    //商品属性 
    string data;
};

queue&lt;CacheData&gt; Q;
//缓冲区最大空间 
const int MAX_CACHEDATA_LENGTH = 10;
//互斥量，生产者之间，消费者之间，生产者和消费者之间，同时都只能一个线程访问缓冲区 
mutex m;
condition_variable condConsumer;
condition_variable condProducer;
//全局商品id 
int ID = 1;

//消费者动作 
void ConsumerActor()
{
    unique_lock&lt;mutex&gt; lockerConsumer(m);
    cout &lt;&lt; &quot;[&quot; &lt;&lt; this_thread::get_id() &lt;&lt; &quot;] 获取了锁&quot; &lt;&lt; endl; 
    while (Q.empty())
    {
        cout &lt;&lt;  &quot;因为队列为空，所以消费者Sleep&quot; &lt;&lt; endl; 
        cout &lt;&lt; &quot;[&quot; &lt;&lt; this_thread::get_id() &lt;&lt; &quot;] 不再持有锁&quot; &lt;&lt; endl;
        //队列空， 消费者停止，等待生产者唤醒 
        condConsumer.wait(lockerConsumer);
        cout &lt;&lt; &quot;[&quot; &lt;&lt; this_thread::get_id() &lt;&lt; &quot;] Weak, 重新获取了锁&quot; &lt;&lt; endl; 
    }
    cout &lt;&lt; &quot;[&quot; &lt;&lt; this_thread::get_id() &lt;&lt; &quot;] &quot;; 
    CacheData temp = Q.front();
    cout &lt;&lt; &quot;- ID:&quot; &lt;&lt; temp.id &lt;&lt; &quot; Data:&quot; &lt;&lt; temp.data &lt;&lt; endl;
    Q.pop(); 
    condProducer.notify_one();
    cout &lt;&lt; &quot;[&quot; &lt;&lt; this_thread::get_id() &lt;&lt; &quot;] 释放了锁&quot; &lt;&lt; endl; 
}

//生产者动作 
void ProducerActor()
{
    unique_lock&lt;mutex&gt; lockerProducer(m);
    cout &lt;&lt; &quot;[&quot; &lt;&lt; this_thread::get_id() &lt;&lt; &quot;] 获取了锁&quot; &lt;&lt; endl; 
    while (Q.size() &gt; MAX_CACHEDATA_LENGTH)
    {
        cout &lt;&lt;  &quot;因为队列为满，所以生产者Sleep&quot; &lt;&lt; endl; 
        cout &lt;&lt; &quot;[&quot; &lt;&lt; this_thread::get_id() &lt;&lt; &quot;] 不再持有锁&quot; &lt;&lt; endl; 
        //对列慢，生产者停止，等待消费者唤醒 
        condProducer.wait(lockerProducer);
        cout &lt;&lt; &quot;[&quot; &lt;&lt; this_thread::get_id() &lt;&lt; &quot;] Weak, 重新获取了锁&quot; &lt;&lt; endl; 
    }
    cout &lt;&lt; &quot;[&quot; &lt;&lt; this_thread::get_id() &lt;&lt; &quot;] &quot;; 
    CacheData temp;
    temp.id = ID++;
    temp.data = &quot;*****&quot;;
    cout &lt;&lt; &quot;+ ID:&quot; &lt;&lt; temp.id &lt;&lt; &quot; Data:&quot; &lt;&lt; temp.data &lt;&lt; endl; 
    Q.push(temp);
    condConsumer.notify_one();
    cout &lt;&lt; &quot;[&quot; &lt;&lt; this_thread::get_id() &lt;&lt; &quot;] 释放了锁&quot; &lt;&lt; endl; 
}

//消费者 
void ConsumerTask()
{
    while(1)
    {
        ConsumerActor();
    }    
}

//生产者 
void ProducerTask()
{
    while(1)
    {
        ProducerActor();
    }    
}

//管理线程的函数 
void Dispatch(int ConsumerNum, int ProducerNum)
{
    vector&lt;thread&gt; thsC;
    for (int i = 0; i &lt; ConsumerNum; ++i)
    {
        thsC.push_back(thread(ConsumerTask));
    }

    vector&lt;thread&gt; thsP;
    for (int j = 0; j &lt; ProducerNum; ++j)
    {
        thsP.push_back(thread(ProducerTask));
    }

    for (int i = 0; i &lt; ConsumerNum; ++i)
    {
        if (thsC[i].joinable())
        {
            thsC[i].join();
        }
    }

    for (int j = 0; j &lt; ProducerNum; ++j)
    {
        if (thsP[j].joinable())
        {
            thsP[j].join();
        }
    }
}

int main()
{
    //一个消费者线程，5个生产者线程，则生产者经常要等待消费者 
    Dispatch(1,5);
    return 0; 
}
</code></pre><h1 id="C-多线程并发高级知识"><a href="#C-多线程并发高级知识" class="headerlink" title="C++多线程并发高级知识"></a>C++多线程并发高级知识</h1><h2 id="线程池"><a href="#线程池" class="headerlink" title="线程池"></a>线程池</h2><ul>
<li>不采用线程池时<blockquote>
<p>创建线程 -&gt; 由该线程执行任务 -&gt; 任务执行完毕后销毁线程。即使需要使用到大量线程，每个线程都要按照这个流程来创建、执行与销毁。</p>
</blockquote>
</li>
</ul>
<blockquote>
<p>虽然创建与销毁线程消耗的时间 远小于 线程执行的时间，但是对于需要频繁创建大量线程的任务，创建与销毁线程 所占用的时间与CPU资源也会有很大占比。</p>
</blockquote>
<ul>
<li>采用线程池<blockquote>
<p> 减少创建与销毁线程所带来的时间消耗与资源消耗</p>
</blockquote>
</li>
</ul>
<blockquote>
<p> 程序启动后，预先创建一定数量的线程放入空闲队列中，这些线程都是处于阻塞状态，基本不消耗CPU，只占用较小的内存空间。<br> 接收到任务后，任务被挂在任务队列，线程池选择一个空闲线程来执行此任务。<br>  任务执行完毕后，不销毁线程，线程继续保持在池中等待下一次的任务。</p>
</blockquote>
<h3 id="线程池解决的问题"><a href="#线程池解决的问题" class="headerlink" title="线程池解决的问题"></a>线程池解决的问题</h3><ul>
<li>需要频繁创建与销毁大量线程的情况下，由于线程预先就创建好了，接到任务就能马上从线程池中调用线程来处理任务，减少了创建与销毁线程带来的时间开销和CPU资源占用。</li>
<li>) 需要并发的任务很多时候，无法为每个任务指定一个线程（线程不够分），使用线程池可以将提交的任务挂在任务队列上，等到池中有空闲线程时就可以为该任务指定线程。</li>
</ul>

      
       
    </div>
</article>





    <div id="comments"></div>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.css">

<script type="text/javascript">
    $.getScript('/js/gitalk.js', function () {
        var gitalk = new Gitalk({
            clientID: '0efe07f8c28227b6ae2b',
            clientSecret: 'a00e640e586804eb7da88f088b17713219b2d3fd',
            repo: 'sanctorum003.github.io',
            owner: 'Sanctorum003',
            admin: ['Sanctorum003'],
            id: decodeURI(location.pathname),
            distractionFreeMode: 'true',
            language: 'zh-CN',
            perPage: parseInt('10',10)
        })
        gitalk.render('comments')
    })
</script>




    
        <!-- MathJax配置，可通过单美元符号书写行内公式等 -->
<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
    "HTML-CSS": {
        preferredFont: "TeX",
        availableFonts: ["STIX","TeX"],
        linebreaks: { automatic:true },
        EqnChunk: (MathJax.Hub.Browser.isMobile ? 10 : 50)
    },
    tex2jax: {
        inlineMath: [ ["$", "$"], ["\\(","\\)"] ],
        processEscapes: true,
        ignoreClass: "tex2jax_ignore|dno",
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
    },
    TeX: {
        equationNumbers: { autoNumber: "AMS" },
        noUndefined: { attributes: { mathcolor: "red", mathbackground: "#FFEEEE", mathsize: "90%" } },
        Macros: { href: "{}" }
    },
    messageStyle: "none"
    });
</script>
<!-- 给MathJax元素添加has-jax class -->
<script type="text/x-mathjax-config">
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for(i=0; i < all.length; i += 1) {
            all[i].SourceElement().parentNode.className += ' has-jax';
        }
    });
</script>
<!-- 通过连接CDN加载MathJax的js代码 -->
<script type="text/javascript" async
        src="//cdn.jsdelivr.net/npm/mathjax@2.7.8/unpacked/MathJax.js?config=TeX-MML-AM_CHTML">
</script>
<input type="hidden" id="MathJax-js"
        value="//cdn.jsdelivr.net/npm/mathjax@2.7.8/unpacked/MathJax.js?config=TeX-MML-AM_CHTML">
</input>
    




    </div>
    <div class="copyright">
        <p class="footer-entry">
    ©2019-2021 Sanctorum003
</p>
<p class="footer-entry">Built with <a href="https://hexo.io/" target="_blank">Hexo</a> and <a href="https://github.com/yelog/hexo-theme-3-hexo" target="_blank">3-hexo</a> theme</p>

    </div>
    <div class="full-toc">
        <button class="full" data-title="切换全屏 快捷键 s"><span class="min "></span></button>
<a class="" id="rocket" ></a>

    </div>
</div>

</body>
<script src="/js/jquery.pjax.js?v=1.1.0" ></script>

<script src="/js/script.js?v=1.1.0" ></script>
<script>
    var img_resize = 'default';
    function initArticle() {
        /*渲染对应的表格样式*/
        
            $("#post .pjax table").addClass("green_title");
        

        /*渲染打赏样式*/
        

        /*高亮代码块行号*/
        
        $('pre code').each(function(){
            var lines = $(this).text().trim().split('\n').length, widther='';
            if (lines>99) {
                widther = 'widther'
            }
            var $numbering = $('<ul/>').addClass('pre-numbering ' + widther).attr("unselectable","on");
            $(this).addClass('has-numbering ' + widther)
                    .parent()
                    .append($numbering);
            for(var i=1;i<=lines;i++){
                $numbering.append($('<li/>').text(i));
            }
        });
        

        /*访问数量*/
        

        /*代码高亮，行号对齐*/
        $('.pre-numbering').css('line-height',$('.has-numbering').css('line-height'));

        
        
    }

    /*打赏页面隐藏与展示*/
    

</script>

<!--加入行号的高亮代码块样式-->

<style>
    pre{
        position: relative;
        margin-bottom: 24px;
        border-radius: 10px;
        border: 1px solid #e2dede;
        background: #FFF;
        overflow: hidden;
    }
    code.has-numbering{
        margin-left: 30px;
    }
    code.has-numbering.widther{
        margin-left: 35px;
    }
    .pre-numbering{
        margin: 0;
        position: absolute;
        top: 0;
        left: 0;
        width: 20px;
        padding: 0.5em 3px 0.7em 5px;
        border-right: 1px solid #C3CCD0;
        text-align: right;
        color: #AAA;
        background-color: ;
    }
    .pre-numbering.widther {
        width: 35px;
    }
</style>

<!--自定义样式设置-->
<style>
    
    
    .nav {
        width: 542px;
    }
    .nav.fullscreen {
        margin-left: -542px;
    }
    .nav-left {
        width: 120px;
    }
    
    
    @media screen and (max-width: 1468px) {
        .nav {
            width: 492px;
        }
        .nav.fullscreen {
            margin-left: -492px;
        }
        .nav-left {
            width: 100px;
        }
    }
    
    
    @media screen and (max-width: 1024px) {
        .nav {
            width: 492px;
            margin-left: -492px
        }
        .nav.fullscreen {
            margin-left: 0;
        }
    }
    
    @media screen and (max-width: 426px) {
        .nav {
            width: 100%;
        }
        .nav-left {
            width: 100%;
        }
    }
    
    
    .nav-right .title-list nav a .post-title, .nav-right .title-list #local-search-result a .post-title {
        color: #383636;
    }
    
    
    .nav-right .title-list nav a .post-date, .nav-right .title-list #local-search-result a .post-date {
        color: #5e5e5f;
    }
    
    
    .nav-right nav a.hover, #local-search-result a.hover{
        background-color: #e2e0e0;
    }
    
    

    /*列表样式*/
    

    /* 背景图样式 */
    
    


    /*引用块样式*/
    

    /*文章列表背景图*/
    
    .nav-right:before {
        content: ' ';
        display: block;
        position: absolute;
        left: 0;
        top: 0;
        width: 100%;
        height: 100%;
        opacity: 0.3;
        background: url("/img/cover.jpg");
        background-repeat: no-repeat;
        background-position: 50% 0;
        -ms-background-size: cover;
        -o-background-size: cover;
        -moz-background-size: cover;
        -webkit-background-size: cover;
        background-size: cover;
    }
    

    
    #post .pjax article :not(pre) > code {
        color: #24292e;
        font-family: SFMono-Regular,Consolas,Liberation Mono,Menlo,Courier,monospace;
        background-color: rgba(27,31,35,.05);
        border-radius: 3px;
        font-size: 85%;
        margin: 0;
        padding: .2em .4em;
    }
    
</style>







</html>
